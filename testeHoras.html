<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>📋 Questionário de Rotina, Hábitos e Produtividade</title>
        <link rel="stylesheet" href="CSS/Reset.CSS">
        <link rel="stylesheet" href="CSS/testeHoras.css">
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap"
            rel="stylesheet">
    </head>
    <body>
        <header>
            <h1><a href="index.html">Dev-Saúde</a></h1>
            <nav>
                <ul class="direcionar_sobreNos">
                    <li><a href="index.html">Início</a></li>
                    <li><a href="testeHoras.html">Teste de Horas</a></li>
                    <li><a href="rotinas.html">Rotinas</a></li>
                    <li><a href="cuidados.html">Cuidados</a></li>
                    <li><a href="sobreNos.html">Sobre nós</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <section class="container">
                <h2>📋 Questionário de Rotina, Hábitos e Produtividade</h2>
                <p class="intro">Responda às perguntas abaixo para receber sugestões personalizadas sobre sua rotina diária.</p>
                
                <form id="horasForm">
                    <!-- 🕑 Parte 1 – Perguntas Gerais -->
                    <fieldset>
                        <legend>🕑 Parte 1 – Perguntas Gerais</legend>
                        <div class="form-group">
                            <label for="nome">Nome:</label>
                            <input type="text" id="nome" name="nome" required>
                        </div>
                        <div class="form-group">
                            <label for="idade">Idade:</label>
                            <input type="number" id="idade" name="idade"
                                required>
                        </div>
                        <div class="form-group">
                            <label>1. Como você avalia sua rotina atual?</label>
                            <select id="avaliacaoRotina" name="avaliacaoRotina"
                                required>
                                <option value>Selecione</option>
                                <option value="muito-boa">Muito boa</option>
                                <option value="boa">Boa</option>
                                <option value="regular">Regular</option>
                                <option value="ruim">Ruim</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>2. Você costuma planejar suas atividades do
                                dia?</label>
                            <select id="planejaAtividades"
                                name="planejaAtividades" required>
                                <option value>Selecione</option>
                                <option value="sempre">Sempre</option>
                                <option value="as-vezes">Às vezes</option>
                                <option value="raramente">Raramente</option>
                                <option value="nunca">Nunca</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>3. Qual período do dia você sente mais
                                disposição?</label>
                            <select id="periodoDisposicao"
                                name="periodoDisposicao" required>
                                <option value>Selecione</option>
                                <option value="manha">Manhã</option>
                                <option value="tarde">Tarde</option>
                                <option value="noite">Noite</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>4. Você sente que consegue equilibrar
                                trabalho/estudo com lazer?</label>
                            <select id="equilibrioRotina"
                                name="equilibrioRotina" required>
                                <option value>Selecione</option>
                                <option value="sim">Sim</option>
                                <option
                                    value="parcialmente">Parcialmente</option>
                                <option value="nao">Não</option>
                            </select>
                        </div>
                    </fieldset>

                    <!-- 💻 Parte 2 – Rotina Condicional -->
                    <fieldset>
                        <legend>💻 Parte 2 – Rotina Condicional</legend>
                        <div class="form-group">
                            <label>O que você costuma fazer no seu dia a
                                dia?</label>
                            <!-- caixa de seleção abaixo da pergunta, alinhamento vertical -->
                            <div class="checkbox-group"
                                style="margin-top:0.7rem; flex-direction:column;">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="trabalho"
                                        name="atividade" value="trabalho">
                                    <label
                                        for="trabalho">Trabalho/Programar</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="estudar"
                                        name="atividade" value="estudar">
                                    <label for="estudar">Estudar</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="tempoLivre"
                                        name="atividade" value="tempoLivre">
                                    <label for="tempoLivre">Tempo livre</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="outros"
                                        name="atividade" value="outros">
                                    <label for="outros">Outros:</label>
                                    <input type="text" id="outrosTexto"
                                        name="outrosTexto" style="width:120px;">
                                </div>
                            </div>
                        </div>
                        <div id="trabalhoCondicional" style="display:none;">
                            <label>Quantas horas por dia em média você dedica ao
                                trabalho/programação?</label>
                            <input type="text" id="horasTrabalho"
                                name="horasTrabalho" maxlength="5"
                                placeholder="Ex: 8:00">
                            <label>Você costuma fazer pausas regulares?</label>
                            <select id="pausasTrabalho" name="pausasTrabalho">
                                <option value>Selecione</option>
                                <option value="sim">Sim</option>
                                <option value="nao">Não</option>
                            </select>
                        </div>
                        <div id="estudoCondicional" style="display:none;">
                            <label>Quantas horas por dia em média você dedica
                                aos estudos?</label>
                            <input type="text" id="horasEstudo"
                                name="horasEstudo" maxlength="5"
                                placeholder="Ex: 2:30">
                            <label>Seus horários de estudo são:</label>
                            <select id="horarioEstudo" name="horarioEstudo">
                                <option value>Selecione</option>
                                <option value="fixos">Fixos</option>
                                <option value="variaveis">Variáveis</option>
                            </select>
                        </div>
                        <div id="tempoLivreCondicional" style="display:none;">
                            <label>Como você costuma ocupar seu tempo
                                livre?</label>
                            <div>
                                <input type="checkbox" id="telasLivre"
                                    name="tempoLivreOpcao" value="telas">
                                <label for="telasLivre">Uso de telas (filmes,
                                    jogos, celular)</label>
                                <input type="checkbox" id="atividadeFisicaLivre"
                                    name="tempoLivreOpcao"
                                    value="atividadeFisica">
                                <label for="atividadeFisicaLivre">Atividade
                                    física</label>
                                <input type="checkbox" id="lazerLivre"
                                    name="tempoLivreOpcao" value="lazerArLivre">
                                <label for="lazerLivre">Lazer ao ar
                                    livre</label>
                                <input type="checkbox" id="outrosLivre"
                                    name="tempoLivreOpcao" value="outros">
                                <label for="outrosLivre">Outros:</label>
                                <input type="text" id="outrosLivreTexto"
                                    name="outrosLivreTexto"
                                    style="width:120px;">
                            </div>
                        </div>
                    </fieldset>

                    <!-- 😴 Parte 3 – Sono -->
                    <fieldset>
                        <legend>😴 Parte 3 – Sono</legend>
                        <label>Quantas horas você costuma dormir por
                            dia?</label>
                        <input type="text" id="horasSono" name="horasSono"
                            maxlength="5" placeholder="Ex: 7:30" required>
                    </fieldset>

                    <!-- 📱 Parte 4 – Uso de Telas -->
                    <fieldset>
                        <legend>📱 Parte 4 – Uso de Telas</legend>
                        <label>Quantas horas por dia você usa telas além do
                            trabalho/estudo?</label>
                        <input type="text" id="horasTela" name="horasTela"
                            maxlength="5" placeholder="Ex: 3:00" required>
                    </fieldset>

                    <!-- 🧍 Parte 5 – Postura e Ambiente -->
                    <fieldset>
                        <legend>🧍 Parte 5 – Postura e Ambiente</legend>
                        <label>Você mantém uma boa postura diante das
                            telas?</label>
                        <select id="posturaTelas" name="posturaTelas" required>
                            <option value>Selecione</option>
                            <option value="sim">Sim</option>
                            <option value="parcialmente">Parcialmente</option>
                            <option value="nao">Não</option>
                        </select>
                        <div id="posturaCondicional" style="display:none;">
                            <label>Sente dores (costas, pescoço, visão)?</label>
                            <select id="senteDores" name="senteDores">
                                <option value>Selecione</option>
                                <option value="sim">Sim</option>
                                <option value="nao">Não</option>
                            </select>
                            <label>Gostaria de receber dicas de alongamento
                                rápido?</label>
                            <select id="dicasAlongamento"
                                name="dicasAlongamento">
                                <option value>Selecione</option>
                                <option value="sim">Sim</option>
                                <option value="nao">Não</option>
                            </select>
                        </div>
                        <label>O ambiente em que você trabalha/estuda é saudável
                            (iluminação, ventilação, conforto)?</label>
                        <select id="ambienteSaudavel" name="ambienteSaudavel"
                            required>
                            <option value>Selecione</option>
                            <option value="sim">Sim</option>
                            <option value="precisa-melhorar">Precisa
                                melhorar</option>
                        </select>
                    </fieldset>

                    <!-- ⚡ Parte 6 – Fechamento -->
                    <fieldset>
                        <legend>⚡ Parte 6 – Fechamento</legend>
                        <label>1. Você pratica atividade física?</label>
                        <select id="atividadeFisica" name="atividadeFisica"
                            required>
                            <option value>Selecione</option>
                            <option value="nenhuma">Nenhuma</option>
                            <option value="1-2">1–2 vezes</option>
                            <option value="3-4">3–4 vezes</option>
                            <option value="5+">5+ vezes</option>
                        </select>
                        <label>2. Sua alimentação diária é:</label>
                        <select id="alimentacao" name="alimentacao" required>
                            <option value>Selecione</option>
                            <option value="equilibrada">Equilibrada</option>
                            <option value="parcialmente">Parcialmente
                                equilibrada</option>
                            <option
                                value="desequilibrada">Desequilibrada</option>
                        </select>
                        <label>3. Principal dificuldade na rotina:</label>
                        <select id="dificuldadeRotina" name="dificuldadeRotina"
                            required>
                            <option value>Selecione</option>
                            <option value="falta-tempo">Falta de tempo</option>
                            <option
                                value="procrastinacao">Procrastinação</option>
                            <option value="sono-ruim">Sono ruim</option>
                            <option value="excesso-telas">Excesso de
                                telas</option>
                            <option value="outro">Outro</option>
                        </select>
                        <label>4. O que gostaria de melhorar primeiro na sua
                            rotina?</label>
                        <input type="text" id="melhorarRotina"
                            name="melhorarRotina">
                        <label>5. Sugestão ou comentário final:</label>
                        <textarea id="comentarioFinal" name="comentarioFinal"
                            rows="2"></textarea>
                    </fieldset>
                    <button type="submit" class="btn-submit">Ver
                        Resultados</button>
                </form>

                <div id="resultados" class="results-container"
                    style="display: none;">
                    <h3>Resultados e Sugestões</h3>
                    <div id="feedbackGeral"></div>
                    <div id="feedbackCondicional"></div>
                    <div id="feedbackSono"></div>
                    <div id="feedbackTela"></div>
                    <div id="feedbackPostura"></div>
                    <div id="feedbackAmbiente"></div>
                    <div id="feedbackFechamento"></div>
                </div>
            </section>
        </main>

        <!-- Seção de Resultados -->
        <div id="resultados" class="results-section" style="display: none;">
            <div class="container">
                <h2>📊 Seus Resultados Personalizados</h2>
                <div id="saudacaoPersonalizada"></div>
                
                <div class="result-card" id="sonoResultado">
                    <h3>😴 Análise do Sono</h3>
                    <div class="result-content"></div>
                </div>
                
                <div class="result-card" id="telaResultado">
                    <h3>📱 Análise do Tempo de Tela</h3>
                    <div class="result-content"></div>
                </div>
                
                <div class="result-card" id="dificuldadeResultado">
                    <h3>⚡ Sugestões Personalizadas</h3>
                    <div class="result-content"></div>
                </div>
                
                <div class="result-card">
                    <h3>🎯 Próximos Passos</h3>
                    <div class="result-content">
                        <p>Com base em suas respostas, aqui estão algumas ações que você pode tomar:</p>
                        <ol>
                            <li>Implemente uma rotina de sono mais consistente</li>
                            <li>Faça pausas regulares durante o trabalho/estudo</li>
                            <li>Pratique exercícios de alongamento para melhorar a postura</li>
                            <li>Estabeleça limites saudáveis para o uso de telas</li>
                            <li>Inclua atividade física regular em sua rotina</li>
                        </ol>
                        <div class="cta-section">
                            <p><strong>💡 Dica:</strong> Comece com pequenas mudanças e vá implementando gradualmente. A consistência é mais importante que a perfeição!</p>
                            <button type="button" onclick="window.print()" class="print-btn">🖨️ Imprimir Resultados</button>
                            <button type="button" onclick="location.reload()" class="restart-btn">🔄 Fazer Teste Novamente</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar campos condicionais
            document.getElementById('trabalho').addEventListener('change', function() {
                document.getElementById('trabalhoCondicional').style.display = this.checked ? 'block' : 'none';
            });
            document.getElementById('estudar').addEventListener('change', function() {
                document.getElementById('estudoCondicional').style.display = this.checked ? 'block' : 'none';
            });
            document.getElementById('tempoLivre').addEventListener('change', function() {
                document.getElementById('tempoLivreCondicional').style.display = this.checked ? 'block' : 'none';
            });
            document.getElementById('posturaTelas').addEventListener('change', function() {
                const val = this.value;
                document.getElementById('posturaCondicional').style.display = (val === 'parcialmente' || val === 'nao') ? 'block' : 'none';
            });

            // Máscara e validação para campos de hora (formato HH:MM, apenas um ":")
            function formatHoraInput(input) {
                input.addEventListener('input', function(e) {
                    let val = input.value.replace(/[^\d:]/g, '');
                    // Impede letra "e"/"E"
                    val = val.replace(/[eE]/g, '');
                    // Permite apenas um ":":
                    const partes = val.split(':');
                    if (partes.length > 2) {
                        val = partes[0] + ':' + partes[1];
                    }
                    // Adiciona ":" automaticamente após dois dígitos, se não houver
                    if (val.length === 2 && !val.includes(':')) {
                        val += ':';
                    }
                    // Limita a 5 caracteres
                    val = val.slice(0, 5);
                    input.value = val;
                });
                input.addEventListener('keydown', function(e) {
                    if (e.key.toLowerCase() === 'e') {
                        e.preventDefault();
                    }
                    // Impede digitar ":" se já houver um
                    if (e.key === ':' && input.value.includes(':')) {
                        e.preventDefault();
                    }
                });
            }

            // Aplica para todos os campos de hora
            [
                'horasTrabalho',
                'horasEstudo',
                'horasSono',
                'horasTela'
            ].forEach(function(id) {
                const el = document.getElementById(id);
                if (el) formatHoraInput(el);
            });

            // Função para converter HH:MM para decimal
            function horaParaDecimal(str) {
                if (!str) return 0;
                const partes = str.split(':');
                if (partes.length === 2) {
                    let h = parseInt(partes[0], 10);
                    let m = parseInt(partes[1], 10);
                    if (isNaN(h) || isNaN(m) || h < 0 || h > 24 || m < 0 || m > 59) return null;
                    return h + (m / 60);
                }
                if (/^\d+$/.test(str)) {
                    let h = parseInt(str, 10);
                    if (h >= 0 && h <= 24) return h;
                }
                return null;
            }

            // Processar o formulário
            document.getElementById('horasForm').addEventListener('submit', function(e) {
                e.preventDefault();
                document.getElementById('resultados').style.display = 'block';

                // Parte 1 – Gerais
                const nome = document.getElementById('nome').value;
                const idade = document.getElementById('idade').value;
                const avaliacaoRotina = document.getElementById('avaliacaoRotina').value;
                const planejaAtividades = document.getElementById('planejaAtividades').value;
                const periodoDisposicao = document.getElementById('periodoDisposicao').value;
                const equilibrioRotina = document.getElementById('equilibrioRotina').value;

                let feedbackGeral = `<strong>Olá, ${nome}!</strong><br>`;
                feedbackGeral += `Idade: ${idade}<br>`;
                feedbackGeral += `Avaliação da rotina: <b>${avaliacaoRotina.replace('-', ' ')}</b><br>`;
                feedbackGeral += `Planejamento diário: <b>${planejaAtividades}</b><br>`;
                feedbackGeral += `Período de maior disposição: <b>${periodoDisposicao}</b><br>`;
                feedbackGeral += `Equilíbrio entre trabalho/estudo e lazer: <b>${equilibrioRotina}</b><br>`;
                document.getElementById('feedbackGeral').innerHTML = feedbackGeral;

                // Parte 2 – Condicional
                let feedbackCondicional = '';
                if (document.getElementById('trabalho').checked) {
                    const horasTrabalhoStr = document.getElementById('horasTrabalho').value;
                    const horasTrabalho = horaParaDecimal(horasTrabalhoStr);
                    const pausasTrabalho = document.getElementById('pausasTrabalho').value;
                    feedbackCondicional += `<b>Trabalho/Programação:</b> ${horasTrabalhoStr}h/dia. Pausas regulares: ${pausasTrabalho}.<br>`;
                    if (horasTrabalho === null) {
                        feedbackCondicional += `<span style="color:red;">Formato inválido para horas de trabalho. Use HH:MM.</span><br>`;
                    } else if (horasTrabalho > 8) {
                        feedbackCondicional += `<span style="color:orange;">⚠️ Muitas horas de trabalho! Tente fazer pausas e cuidar da saúde mental.</span><br>`;
                    }
                }
                if (document.getElementById('estudar').checked) {
                    const horasEstudoStr = document.getElementById('horasEstudo').value;
                    const horasEstudo = horaParaDecimal(horasEstudoStr);
                    const horarioEstudo = document.getElementById('horarioEstudo').value;
                    feedbackCondicional += `<b>Estudo:</b> ${horasEstudoStr}h/dia. Horários: ${horarioEstudo}.<br>`;
                    if (horasEstudo === null) {
                        feedbackCondicional += `<span style="color:red;">Formato inválido para horas de estudo. Use HH:MM.</span><br>`;
                    } else if (horasEstudo > 6) {
                        feedbackCondicional += `<span style="color:orange;">⚠️ Muitas horas de estudo! Faça pausas e revise o conteúdo.</span><br>`;
                    }
                }
                if (document.getElementById('tempoLivre').checked) {
                    feedbackCondicional += `<b>Tempo livre:</b> `;
                    if (document.getElementById('telasLivre').checked) feedbackCondicional += 'Uso de telas, ';
                    if (document.getElementById('atividadeFisicaLivre').checked) feedbackCondicional += 'Atividade física, ';
                    if (document.getElementById('lazerLivre').checked) feedbackCondicional += 'Lazer ao ar livre, ';
                    if (document.getElementById('outrosLivre').checked) feedbackCondicional += 'Outros: ' + document.getElementById('outrosLivreTexto').value;
                    feedbackCondicional += '<br>';
                }
                document.getElementById('feedbackCondicional').innerHTML = feedbackCondicional;

                // Parte 3 – Sono
                const horasSonoStr = document.getElementById('horasSono').value;
                const horasSono = horaParaDecimal(horasSonoStr);
                let feedbackSono = '';
                if (horasSono === null) {
                    feedbackSono = `<span style="color:red;">Formato inválido para horas de sono. Use HH:MM.</span>`;
                } else if (horasSono < 7) {
                    feedbackSono = `<span style="color:red;">😴 Você está dormindo menos que o recomendado! <a href="https://www.gov.br/saude/pt-br/assuntos/saude-de-a-a-z/s/sono">Veja dicas para sono saudável</a></span>`;
                } else if (horasSono >= 7 && horasSono <= 9) {
                    feedbackSono = `<span style="color:green;">👍 Parabéns! Sono saudável.</span>`;
                } else {
                    feedbackSono = `<span style="color:orange;">😴 Dormir mais de 9h pode indicar cansaço excessivo. Avalie sua qualidade de sono.</span>`;
                }
                document.getElementById('feedbackSono').innerHTML = feedbackSono;

                // Parte 4 – Telas
                const horasTelaStr = document.getElementById('horasTela').value;
                const horasTela = horaParaDecimal(horasTelaStr);
                let feedbackTela = '';
                if (horasTela === null) {
                    feedbackTela = `<span style="color:red;">Formato inválido para horas de tela. Use HH:MM.</span>`;
                } else if (horasTela > 4) {
                    feedbackTela = `<span style="color:red;">📱 Seu tempo de tela está acima do recomendado! <a href="https://www.scielo.br/j/csc/a/6Jkq7w7ZK7w7w7w7w7w7w7w7/?lang=pt">Veja artigo científico</a></span>`;
                } else if (horasTela <= 3) {
                    feedbackTela = `<span style="color:green;">👍 Boa! Tempo de tela saudável.</span>`;
                } else {
                    feedbackTela = `<span style="color:orange;">📱 Seu tempo de tela está no limite. Tente reduzir um pouco mais.</span>`;
                }
                document.getElementById('feedbackTela').innerHTML = feedbackTela;

                // Parte 5 – Postura e Ambiente
                const posturaTelas = document.getElementById('posturaTelas').value;
                let feedbackPostura = '';
                if (posturaTelas === 'sim') {
                    feedbackPostura = `<span style="color:green;">🧍 Ótimo! Continue mantendo boa postura.</span>`;
                } else {
                    const senteDores = document.getElementById('senteDores').value;
                    const dicasAlongamento = document.getElementById('dicasAlongamento').value;
                    feedbackPostura = `<span style="color:orange;">🧍 Atenção à postura!`;
                    if (senteDores === 'sim') feedbackPostura += ' Sente dores, procure alongar e ajustar a ergonomia.';
                    if (dicasAlongamento === 'sim') feedbackPostura += ' <a href="https://www.tuasaude.com/alongamento-para-coluna/">Veja dicas de alongamento rápido</a>';
                    feedbackPostura += '</span>';
                }
                document.getElementById('feedbackPostura').innerHTML = feedbackPostura;

                const ambienteSaudavel = document.getElementById('ambienteSaudavel').value;
                let feedbackAmbiente = '';
                if (ambienteSaudavel === 'sim') {
                    feedbackAmbiente = `<span style="color:green;">Ambiente saudável!</span>`;
                } else {
                    feedbackAmbiente = `<span style="color:orange;">Melhore iluminação, ventilação e conforto do ambiente.</span>`;
                }
                document.getElementById('feedbackAmbiente').innerHTML = feedbackAmbiente;

                // Parte 6 – Fechamento
                const atividadeFisica = document.getElementById('atividadeFisica').value;
                const alimentacao = document.getElementById('alimentacao').value;
                const dificuldadeRotina = document.getElementById('dificuldadeRotina').value;
                const melhorarRotina = document.getElementById('melhorarRotina').value;
                const comentarioFinal = document.getElementById('comentarioFinal').value;

                let feedbackFechamento = `<b>Atividade física:</b> ${atividadeFisica}<br>`;
                feedbackFechamento += `<b>Alimentação:</b> ${alimentacao}<br>`;
                feedbackFechamento += `<b>Dificuldade principal:</b> ${dificuldadeRotina}<br>`;
                feedbackFechamento += `<b>O que gostaria de melhorar:</b> ${melhorarRotina}<br>`;
                if (comentarioFinal) feedbackFechamento += `<b>Comentário final:</b> ${comentarioFinal}<br>`;
                document.getElementById('feedbackFechamento').innerHTML = feedbackFechamento;

                document.getElementById('resultados').scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
    </body>
</html>
